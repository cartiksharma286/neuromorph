<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoGeo: Climate Intelligence Platform</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=JetBrains+Mono:wght@400;700&display=swap"
        rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="layout">
        <aside class="sidebar">
            <div class="logo-area">
                <div class="logo-icon">üåç</div>
                <h1>EcoGeo <span class="badge">PRO</span></h1>
            </div>
            <nav>
                <button class="nav-btn active" data-view="dashboard">
                    <span class="icon">üìä</span> Dashboard
                </button>
                <button class="nav-btn" data-view="science">
                    <span class="icon">üß™</span> Data Science
                </button>
                <button class="nav-btn" data-view="simulation">
                    <span class="icon">üî•</span> Fire Sim
                </button>
                <button class="nav-btn" data-view="nvqlink">
                    <span class="icon">üì°</span> NVQLink
                </button>
            </nav>
            <div class="sys-status">
                <div class="status-indicator online"></div>
                <span>Connected: Localhost:5005</span>
            </div>
        </aside>

        <main class="main-content">
            <header class="top-bar">
                <h2 id="section-title">Mission Control</h2>
                <div class="user-profile">
                    <span>Dr. Sharma</span>
                    <div class="avatar">CS</div>
                </div>
            </header>

            <div id="dashboard" class="view active fade-in">
                <div class="dashboard-centered">

                    <!-- Main Graph: Centered & Large -->
                    <div class="chart-card main-feature">
                        <div class="card-header">
                            <h3>Environmental Trends & QKD-Secured Predictions</h3>
                            <div class="security-badge">üîí Quantum Encrypted | Geofence Active</div>
                        </div>
                        <div class="canvas-container-xl">
                            <canvas id="mainChart"></canvas>
                        </div>
                    </div>

                    <!-- Stats Row Below -->
                    <div class="stats-row">
                        <div class="stat-card">
                            <div class="stat-header">Global Temperature</div>
                            <div class="stat-value">1.4¬∞C <span class="trend up">‚ñ≤ 0.1%</span></div>
                            <div class="stat-meta">Above Pre-industrial</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-header">Active Wildfires</div>
                            <div class="stat-value">12 <span class="trend down">‚ñº 2</span></div>
                            <div class="stat-meta">Monitoring Zones</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-header">Model Confidence</div>
                            <div class="stat-value" id="dashAccuracy">--%</div>
                            <div class="stat-meta">SGD-QKD Verified</div>
                        </div>
                    </div>

                </div>
            </div>

            <div id="science" class="view fade-in">
                <div class="science-grid">
                    <div class="panel controls-panel">
                        <h3>Model Controls</h3>
                        <p>Train the Stochastic Gradient Descent (SGD) classifier on real-time synthetic data.</p>
                        <div class="training-status">
                            <span id="trainingState">Ready</span>
                        </div>
                        <button id="trainBtn" class="primary-btn">
                            <span class="btn-text">Retrain Model</span>
                            <span class="spinner hidden"></span>
                        </button>

                        <div class="feature-inputs">
                            <h4>Prediction Parameters</h4>
                            <div class="slider-group">
                                <label>Temperature</label>
                                <input type="range" id="inTemp" min="0" max="1" step="0.05" value="0.5">
                            </div>
                            <div class="slider-group">
                                <label>Humidity</label>
                                <input type="range" id="inHum" min="0" max="1" step="0.05" value="0.5">
                            </div>
                            <div class="slider-group">
                                <label>Wind Speed</label>
                                <input type="range" id="inWind" min="0" max="1" step="0.05" value="0.5">
                            </div>
                            <div class="slider-group">
                                <label>Biomass Density</label>
                                <input type="range" id="inBio" min="0" max="1" step="0.05" value="0.5">
                            </div>
                        </div>

                        <div class="prediction-box">
                            <div class="pred-label">Fire Risk Probability</div>
                            <div class="pred-value" id="riskValue">0.0%</div>
                        </div>
                    </div>
                    <div class="panel chart-panel">
                        <h3>Feature Importance Coefficients</h3>
                        <div class="canvas-container-lg">
                            <canvas id="featureChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <div id="simulation" class="view fade-in">
                <div class="sim-wrapper">
                    <div class="sim-controls">
                        <h3>Forest Fire Cellular Automata</h3>
                        <div class="control-row">
                            <select id="locSelect" class="dropdown">
                                <option value="Banff">Banff National Park (Coniferous)</option>
                                <option value="Jasper">Jasper (Coniferous)</option>
                                <option value="Rideau">Rideau Canal (Deciduous)</option>
                                <option value="CapeBreton">Cape Breton (Boreal)</option>
                                <option value="PacificRim">Pacific Rim (Rainforest)</option>
                            </select>
                            <button id="loadTerrainBtn" class="secondary-btn">Load Terrain</button>
                            <div class="divider"></div>
                            <button id="startSimBtn" class="primary-btn">Start</button>
                            <button id="stopSimBtn" class="danger-btn">Stop</button>
                        </div>
                        <div class="sim-stats">
                            <div class="stat-pill">Ignitions: <span id="ignCount">0</span></div>
                            <div class="stat-pill">Burnt Area: <span id="burntCount">0</span></div>
                        </div>
                    </div>
                    <div class="canvas-viewport">
                        <canvas id="simCanvas" width="600" height="600"></canvas>
                        <div class="overlay-legend">
                            <span class="dot green"></span> Live
                            <span class="dot orange"></span> Fire
                            <span class="dot black"></span> Burnt
                        </div>
                    </div>
                </div>
            </div>

            <div id="nvqlink" class="view fade-in">
                <div class="nvq-dashboard">
                    <div class="nvq-header-card">
                        <h3>Neural-Visual-Quantum Link</h3>
                        <div class="connection-status">
                            <span class="pulse-dot"></span>
                            <span id="nvqStatusText">CONNECTING...</span>
                        </div>
                    </div>

                    <div class="nvq-metrics">
                        <div class="metric-card">
                            <small>Quantum Bandwidth</small>
                            <div class="val" id="nvqBandwidth">--</div>
                        </div>
                        <div class="metric-card">
                            <small>Latency</small>
                            <div class="val" id="nvqLatency">--</div>
                        </div>
                        <div class="metric-card">
                            <small>Coherence State</small>
                            <div class="val" id="nvqQuantum">--</div>
                        </div>
                        <div class="metric-card">
                            <small>Active Nodes</small>
                            <div class="val" id="nvqNodes">--</div>
                        </div>
                    </div>

                    <div class="buffer-viz">
                        <h4>Real-Time Telemetry Buffer</h4>
                        <div class="terminal-window" id="nvqTerminal">
                            > Initializing Quantum Handshake...<br>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    <script src="app.js"></script>
</body>

</html>