<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>EcoGeo: Data Science Platform</title>
    <link href="style.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>

    <div class="app-container">
        <!-- Sidebar -->
        <nav class="sidebar">
            <div class="brand">
                <div class="logo">üß¨</div>
                <h3>EcoGeo AI</h3>
            </div>

            <div class="menu">
                <button class="menu-item active" onclick="setView('dashboard')">
                    <span>üìä</span> Dashboard
                </button>
                <button class="menu-item" onclick="setView('science')">
                    <span>üß™</span> Data Science
                </button>
                <button class="menu-item" onclick="setView('simulation')">
                    <span>üî•</span> Fire Sim
                </button>
                <button class="menu-item" onclick="setView('nvqlink')">
                    <span>üì°</span> NVQLink
                </button>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="content">
            <header>
                <h2 id="pageTitle">Mission Control</h2>
                <div class="status-pill">System Online</div>
            </header>

            <!-- Dashboard View -->
            <div id="dashboard" class="view active">
                <div class="card-grid">
                    <div class="card">
                        <h3>Lidar Scans</h3>
                        <p>Total Points Processed</p>
                        <div class="metric">2.4M</div>
                    </div>
                    <div class="card">
                        <h3>Model Accuracy</h3>
                        <p>Logistic Regression</p>
                        <div class="metric" id="dashAccuracy">--%</div>
                    </div>
                    <div class="card" style="grid-column: span 2;">
                        <h3>Environmental Trends</h3>
                        <canvas id="mainChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Data Science View -->
            <div id="science" class="view">
                <div class="control-panel">
                    <h3>Statistical Classifier</h3>
                    <div class="controls">
                        <button onclick="trainModel()" class="btn-primary">Retrain Model</button>
                        <div class="stats-box" id="trainingStats">
                            Model: Pending...
                        </div>
                    </div>
                </div>

                <div class="split-layout">
                    <div class="card">
                        <h4>Risk Predictor</h4>
                        <div class="input-group">
                            <label>Temperature (Norm)</label>
                            <input type="range" id="inTemp" min="0" max="1" step="0.1" value="0.5"
                                oninput="livePredict()">
                        </div>
                        <div class="input-group">
                            <label>Humidity (Norm)</label>
                            <input type="range" id="inHum" min="0" max="1" step="0.1" value="0.5"
                                oninput="livePredict()">
                        </div>
                        <div class="input-group">
                            <label>Wind (Norm)</label>
                            <input type="range" id="inWind" min="0" max="1" step="0.1" value="0.5"
                                oninput="livePredict()">
                        </div>
                        <div class="input-group">
                            <label>Biomass (Norm)</label>
                            <input type="range" id="inBio" min="0" max="1" step="0.1" value="0.5"
                                oninput="livePredict()">
                        </div>

                        <div class="prediction-result">
                            <span>Fire Risk:</span>
                            <span id="riskValue">0%</span>
                        </div>
                    </div>

                    <div class="card">
                        <h4>Feature Importance</h4>
                        <canvas id="featureChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Simulation View -->
            <div id="simulation" class="view">
                <div class="control-panel">
                    <h3>Optimized Fire Spread</h3>
                    <select id="locSelect">
                        <option value="Banff">Banff National Park</option>
                        <option value="Jasper">Jasper</option>
                        <option value="CapeBreton">Cape Breton Highlands</option>
                        <option value="PacificRim">Pacific Rim</option>
                    </select>
                    <button onclick="loadScan()" class="btn-secondary">Load Terrain</button>
                    <button onclick="startSim()" class="btn-primary">Start Simulation</button>
                    <button onclick="stopSim()" class="btn-danger">Stop</button>
                </div>

                <div class="sim-container">
                    <canvas id="simCanvas" width="600" height="600"></canvas>
                    <div class="sim-overlay">
                        <div id="simStats">
                            Burnt: 0 | Active: 0
                        </div>
                    </div>
                </div>
            </div>

            <!-- NVQLink View -->
            <div id="nvqlink" class="view">
                <div class="card-grid">
                    <div class="card" style="grid-column: span 3;">
                        <h3>Neural-Visual-Quantum Link Status</h3>
                        <div class="status-grid"
                            style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 1rem; margin-top: 1rem;">
                            <div class="stat-item">
                                <small>Link Status</small>
                                <div id="nvqStatus" style="color: var(--accent); font-weight: bold;">CONNECTING...</div>
                            </div>
                            <div class="stat-item">
                                <small>Bandwidth</small>
                                <div id="nvqBandwidth">--</div>
                            </div>
                            <div class="stat-item">
                                <small>Latency</small>
                                <div id="nvqLatency">--</div>
                            </div>
                            <div class="stat-item">
                                <small>Quantum State</small>
                                <div id="nvqQuantum">--</div>
                            </div>
                        </div>
                    </div>

                    <div class="card"
                        style="grid-column: span 3; height: 300px; display: flex; align-items: center; justify-content: center; background: rgba(0,0,0,0.3);">
                        <div style="text-align: center;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;">üõ∞Ô∏è ‚ÜîÔ∏è üß†</div>
                            <p>Secure Quantum Telemetry Tunnel Active</p>
                        </div>
                    </div>
                </div>
            </div>

        </main>
    </div>

    <script src="app.js"></script>
</body>

</html>