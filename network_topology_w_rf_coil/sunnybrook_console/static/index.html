<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sunnybrook Cloud Console</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Orbitron:wght@500;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <div class="app-container">
        <!-- Sidebar -->
        <nav class="sidebar">
            <div class="logo">
                <h2>SUNNYBROOK</h2>
                <span>CLOUD CONSOLE</span>
            </div>
            <ul class="nav-links">
                <li class="active" onclick="switchTab('dashboard')"><a href="#">Dashboard</a></li>
                <li onclick="switchTab('topology')"><a href="#">Topology</a></li>
                <li onclick="switchTab('cluster')"><a href="#">Cluster Schematics</a></li>
                <li onclick="switchTab('cost')"><a href="#">Cost & Billing</a></li>
                <li onclick="switchTab('security')"><a href="#">Security</a></li>
                <li onclick="switchTab('coil')"><a href="#">RF Coil Design</a></li>
            </ul>
            <div class="status-panel">
                <div class="status-item">
                    <span class="label">System Status</span>
                    <span class="value" id="system-health">Loading...</span>
                </div>
                <div class="status-item">
                    <span class="label">Encryption</span>
                    <span class="value quantum-safe">Quantum Safe</span>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <header>
                <h1 id="page-title">Network Dashboard</h1>
                <div class="header-actions">
                    <button id="btn-rotate" class="btn btn-outline">Rotate KMS Keys</button>
                    <button id="btn-lockdown" class="btn btn-danger">INITIATE LOCKDOWN</button>
                    <div id="clock" style="margin-left: 20px; font-family: 'Orbitron'; color: var(--accent-blue);">
                    </div>
                </div>
            </header>

            <!-- VIEW: DASHBOARD (Performance Metrics) -->
            <div id="view-dashboard" class="view-section">
                <div class="dashboard-grid">
                    <div class="card metrics-card">
                        <h3>Core Processor Frequency</h3>
                        <canvas id="coreFreqChart"></canvas>
                        <div class="metric-value" id="val-core-freq">0.0 GHz</div>
                    </div>
                    <div class="card metrics-card">
                        <h3>Memory Usage</h3>
                        <canvas id="memoryChart"></canvas>
                        <div class="metric-value" id="val-memory">0 GB</div>
                    </div>
                    <div class="card metrics-card">
                        <h3>Active Threads</h3>
                        <div class="big-number" id="val-threads">0</div>
                    </div>
                    <div class="card log-card">
                        <h3>System Event Log</h3>
                        <ul id="event-log">
                            <li>System Initialized...</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- VIEW: TOPOLOGY -->
            <div id="view-topology" class="view-section" style="display: none;">
                <div class="card" style="height: 600px; display: flex; flex-direction: column;">
                    <h3>Live Network Graph</h3>
                    <div id="graph-container" style="flex: 1;"></div>
                </div>
            </div>

            <!-- VIEW: CLUSTER SCHEMATICS -->
            <div id="view-cluster" class="view-section" style="display: none;">
                <div class="card">
                    <h3>Node Cluster Schematics & Thermal Matrix</h3>
                    <p>Real-time thermal status of compute racks.</p>
                    <div id="cluster-container" class="cluster-grid">
                        <!-- Racks generated by JS -->
                    </div>
                </div>
            </div>

            <!-- VIEW: COST & BILLING -->
            <div id="view-cost" class="view-section" style="display: none;">
                <div class="dashboard-grid">
                    <div class="card metrics-card">
                        <h3>Monthly Cloud Bill</h3>
                        <div class="metric-value" style="color: var(--warning);">$<span id="cost-total">0.00</span>
                        </div>
                        <div style="font-size: 0.8rem; color: var(--text-secondary);">Est. end of month</div>
                    </div>
                    <div class="card metrics-card">
                        <h3>Spot Savings</h3>
                        <div class="metric-value" style="color: var(--success);">$<span id="cost-savings">0.00</span>
                        </div>
                        <div style="font-size: 0.8rem; color: var(--text-secondary);">vs On-Demand Pricing</div>
                    </div>
                    <div class="card metrics-card">
                        <h3>Spot Usage</h3>
                        <div class="big-number"><span id="spot-usage">0</span>%</div>
                    </div>
                    <div class="card log-card">
                        <h3>Departmental Breakdown</h3>
                        <canvas id="costChart" style="max-height: 200px;"></canvas>
                    </div>
                </div>
            </div>

            <!-- VIEW: SECURITY -->
            <div id="view-security" class="view-section" style="display: none;">
                <div class="card">
                    <h3>Security protocols</h3>
                    <p>Encryption: <strong>AES-256-GCM + Kyber-512</strong></p>
                    <p>Threat Level: <span id="security-threat-level">LOW</span></p>
                </div>
            </div>

            <!-- VIEW: COIL DESIGN -->
            <div id="view-coil" class="view-section" style="display: none;">
                <div class="card">
                    <h3>NVQLink Head Coil Optimizer</h3>
                    <p>Generative Topology Optimization for RF Coils</p>

                    <div style="margin-top: 20px; display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <div>
                            <div class="input-group" style="margin-bottom: 15px;">
                                <label style="display: block; margin-bottom: 5px; color: var(--text-secondary);">Target
                                    Field Strength (Tesla)</label>
                                <input type="number" id="coil-field-strength" value="3.0" step="0.5"
                                    style="padding: 10px; background: rgba(0,0,0,0.3); border: 1px solid var(--border-color); color: white; width: 100%;">
                            </div>
                            <button onclick="runCoilOptimization()" class="btn btn-primary" style="width: 100%;">Run
                                Optimization</button>
                        </div>

                        <div id="coil-results"
                            style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 8px; font-family: 'Space Mono', monospace; display: none;">
                            <h4 style="color: var(--accent-blue); margin-top: 0;">Optimization Results</h4>
                            <div id="coil-metrics"></div>
                        </div>
                    </div>
                </div>
            </div>

        </main>
    </div>
    <script src="js/app.js"></script>
</body>

</html>