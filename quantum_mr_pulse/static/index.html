<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quantum Pulse Architect | NVQLink Integrated</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&family=Space+Mono:wght@400;700&display=swap"
        rel="stylesheet">
</head>

<body>
    <div class="app-container">
        <header>
            <div class="logo">
                <span class="logo-icon">❖</span>
                <span class="logo-text">QUANTUM PULSE <span class="highlight">ARCHITECT</span></span>
            </div>
            <div class="status-bar">
                <div class="status-item">
                    <span class="label">NVQLink:</span>
                    <span class="value connected">CONNECTED</span>
                </div>
                <div class="status-item">
                    <span class="label">Quantum Core:</span>
                    <span class="value active">ACTIVE</span>
                </div>
            </div>
        </header>

        <main>
            <aside class="sidebar">
                <div class="control-panel">
                    <h3>Sequence Config</h3>

                    <div class="form-group">
                        <label>Sequence Type</label>
                        <select id="seqType">
                            <option value="GRE">Gradient Echo (GRE)</option>
                            <option value="SE">Spin Echo (SE)</option>
                            <option value="EPI">Echo Planar (EPI)</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>TE (Time Echo) [ms]</label>
                        <input type="range" id="te" min="1" max="50" value="10" step="0.1">
                        <span class="value-display" id="val-te">10 ms</span>
                    </div>

                    <div class="form-group">
                        <label>TR (Time Repetition) [ms]</label>
                        <input type="range" id="tr" min="10" max="500" value="50" step="1">
                        <span class="value-display" id="val-tr">50 ms</span>
                    </div>

                    <div class="form-group">
                        <label>Flip Angle [deg]</label>
                        <input type="range" id="fa" min="1" max="90" value="30">
                        <span class="value-display" id="val-fa">30°</span>
                    </div>

                    <div class="form-group" style="flex-direction: row; align-items: center; justify-content: space-between;">
                        <label for="optimize" style="margin-bottom: 0;">Optimize (Quantum)</label>
                        <input type="checkbox" id="optimize" style="width: auto;">
                    </div>

                    <button id="btn-generate" class="action-btn primary">Generate Sequence</button>

                    <div class="divider"></div>

                    <h3>Quantum Analysis</h3>
                    <button id="btn-analyze" class="action-btn secondary" disabled>Run Surface Integrals</button>
                    <button id="btn-geodesics" class="action-btn secondary" disabled>Map Prime Geodesics</button>
                    <button id="btn-reconstruct" class="action-btn secondary" disabled>Simulate & Reconstruct</button>
                    <button id="btn-verify" class="action-btn warning" disabled>NVQLink Formal Verification</button>
                    <div class="divider"></div>
                    <button id="btn-export" class="action-btn primary" disabled>Export to .seq</button>
                </div>

                <div class="metrics-panel hidden" id="metrics-panel">
                    <h3>Quantum Metrics</h3>
                    <div class="metric-row">
                        <span>Berry Phase:</span>
                        <span id="metric-berry" class="mono">--</span>
                    </div>
                    <div class="metric-row">
                        <span>Coherence:</span>
                        <span id="metric-coherence" class="mono">--</span>
                    </div>
                    <div class="metric-row hidden" id="row-prime">
                        <span>Prime Potential:</span>
                        <span id="metric-prime" class="mono">--</span>
                    </div>
                    <div class="verification-box" id="verification-result">
                        <div class="ver-title">VERIFICATION STATUS</div>
                        <div class="ver-status" id="ver-status">--</div>
                    </div>
                </div>
            </aside>

            <section class="visualizer">
                <div class="plot-container" id="pulse-plot">
                    <!-- Plotly Chart -->
                    <div class="placeholder-text">Generate a sequence to visualize</div>
                </div>

                <div class="bottom-viz">
                    <div class="plot-small" id="bloch-plot">
                        <h4>Bloch Sphere Trajectory</h4>
                        <div id="bloch-viz"></div>
                    </div>
                    <div class="plot-small" id="recon-plot">
                        <h4>Reconstructed Image (fft)</h4>
                        <div id="image-viz"></div>
                    </div>
                    <div class="console-log" id="console-output">
                        <div class="log-line system">> System Initialized.</div>
                        <div class="log-line system">> NVQLink Driver Loaded (v2.4)</div>
                    </div>
                </div>
            </section>
        </main>
    </div>
    <script src="script.js"></script>
</body>

</html>